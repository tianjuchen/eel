<!DOCTYPE html><head><meta charset="UTF-8"><title>MooseApp | Stingray</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/civet_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../../index.html" class="left moose-logo hide-on-med-and-down" id="home-button">Stingray</a><a href="https://github.com/hugary1995/stingray" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="../../theory.html">Theory</a></li><li><a href="../../implementation.html">Implementation</a></li><li><a href="../../examples.html">Examples</a></li><li><a href="../../stingray.html">Documentation</a></li></ul><a href="#" class="sidenav-trigger" data-target="0bc57da5-06cc-40af-ad02-001eb72e47b6"><i class="material-icons">menu</i></a><ul class="sidenav" id="0bc57da5-06cc-40af-ad02-001eb72e47b6"><li><a href="../../theory.html">Theory</a></li><li><a href="../../implementation.html">Implementation</a></li><li><a href="../../examples.html">Examples</a></li><li><a href="../../stingray.html">Documentation</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/index.md" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">base</span><a href="#" class="breadcrumb">MooseApp</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="9380acbf-1d3a-44ab-92e3-d3bc4ed026c5" data-section-level="1" data-section-text="MooseApp"><h1 id="mooseapp">MooseApp</h1><p>The <code>MooseApp</code> object is the base class for <span class="tooltipped" data-tooltip="Multiphysics Object Oriented Simulation Environment" data-position="top" data-delay="50">MOOSE</span> based applications and serves as the entry point for running all aspects of a simulation.</p><section class="scrollspy" id="d2590f36-b5a7-410e-b40e-ab2f072a6a32" data-section-level="2" data-section-text="Specifying Application to Use"><h2 id="specifying-application-to-use">Specifying Application to Use</h2><p>It can be useful, when running a large &quot;combined&quot; application like <code>blue_crab</code>, to specify a specific application type to run an input file with. For instance one may want to run <code>griffin</code> as the main application and <code>pronghorn</code> as a sub-application. Just as the application type for the sub-application is specified in the main input file using <code>app_type = PronghornApp</code> the application type for running the main input file can be specified on the command line via <code>&lt;blue_crab_root_dir&gt;/blue_crab-* -i foo.i --app GriffinApp</code>. This allows any special actions and setup specific to the application to be used.</p></section><section class="scrollspy" id="b0aba637-72cc-4cbc-8e53-b033f2c5f123" data-section-level="2" data-section-text="Nonzero reallocation behavior"><h2 id="nonzero-reallocation-behavior">Nonzero reallocation behavior</h2><p>The MOOSE framework and libMesh work together to supply a sparsity pattern to PETSc which informs how much memory is allocated for the system matrix. If the sparsity pattern is too small, then PETSc will be forced to allocate new memory during matrix assembly if user code tries to add/set a matrix entry that wasn&#x27;t preallocated by the sparsity pattern. This allocation at matrix assembly time can significantly slow down a simulation. MOOSE and libMesh are known to generate accurate sparsity patterns in most cases; however, for complex multi-body problems like mechanical and thermal contact, the sparsity pattern may be incorrect. Because of this, by default MOOSE does not error if PETSc is forced to do new nonzero allocations during matrix assembly. However, if an application developer expects their physics to have accurate sparsity patterns, they may override the default MOOSE behavior and error on new nonzero allocations. This can give the application developer peace-of-mind that their applications will not produce quiet nonzero allocations at run-time.</p><p>Overriding the default nonzero allocation behavior can be accomplished by overriding the virtual function <code>bool
MooseApp::errorOnJacobianNonzeroReallocation() const</code>. The <code>MooseApp</code> default is <code>false</code>, although this will hopefully be changed in the not-too-distant future. Note that the application level code setting can always be overridden at the input-file level by specifying a value for <code>Problem/error_on_jacobian_nonzero_reallocation</code>. </p></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#d2590f36-b5a7-410e-b40e-ab2f072a6a32" class="tooltipped" data-position="left" data-tooltip="Specifying Application to Use">Specifying Application to Use</a></li><li><a href="#b0aba637-72cc-4cbc-8e53-b033f2c5f123" class="tooltipped" data-position="left" data-tooltip="Nonzero reallocation behavior">Nonzero reallocation behavior</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>